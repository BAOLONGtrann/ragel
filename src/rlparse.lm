include 'ragel.lm'
include 'host.lm'
include 'reducer.lm'

# Loads the args. 
include 'rlcommon.lm'

print "arg0: [arg0]

if ( arg0 == "rlparse" ) {
	Stream: stream = open( GblFileName, "r" )
	reduce TopLevel start[ Stream ]
	RagelError = error
}
elsif ( arg0 == "rlpostfix" ) {
	Stream: stream = open( GblFileName, "r" )
	read_reduce TopLevel start[ Stream ]
	RagelError = error
}
